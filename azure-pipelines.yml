trigger:
- main   # si tu rama se llama distinto (por ej. master), cambiala ac√°

pool:
  vmImage: 'ubuntu-latest'

steps:
- task: NodeTool@0
  inputs:
    versionSpec: '20.x'
  displayName: 'Use Node.js 20'

- script: |
    cd backend
    npm ci
    npm test
  displayName: 'Run backend tests'

- script: |
    cd frontend
    npm ci
    npm test -- --watch=false
  displayName: 'Run frontend tests'
